What the PCB is designed for:

The soil analysis box of the analysis unit includes one driller, four small, one large, five stepper motors, five servo motors, three vibration motors, three bmp280 pressure sensors, three weight sensors, one soil moisture sensor, one temperature, and two stm32s. This analysis box first digs the soil with a driller, sifts the earth with vibration motors, and fills it into test tubes. Then, certain chemicals are poured into a set of test tubes with the help of servo motors, other properties such as weight and humidity of the rest are measured, and necessary calculations are made. The results are sent to the main computer and from there to the base, and the vitality in the soil is determined according to these test results. In this task, the PCB determines the operating time of the motors, reads data from the sensors, and transmits the read data to the host.


PCB description:

Again, due to the difficulty of mounting the SMD components, the removable stm32 blue battery cards were chosen as the processor and integrated into the card as easily replaceable. 2 STM was used to get a faster and cleaner result by dividing the pin shortage and the processing load. These two STMs were connected with the UART communication protocol. Only one of these STMs communicates with the host and wakes the other stm for work to be done. It is responsible for continuously reading data from the stm sensors to communicate with the computer and ensure communication. The other STM, which is waiting to hear from this stm and sleeps for power saving the rest of the time, determines the operating timing of the motors and how many steps the engine will run. The PCB is again 2-layer, and the top layer is covered with 5V, 3.3V, and VCC(24V) areas. The GND line entirely covers the bottom layer. It is a 24V primary power input lowered to 5V for necessary sensors with a voltage regulator. The regulator of the STM32 provides the 3.3V line. Communication with the host is also provided via the CAN module. A transistor controls vibration motors, four stepper motor drivers are directly integrated into the circuit, while an external stepper driver stm can activate a nema23 large stepper motor.
